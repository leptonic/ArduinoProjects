>>>Toilet Light<<<

这不是一个简单的厕所灯泡， 服役期间201504~201510 退役原因，怀疑因为系统长期过热导致sensor失效
============================================================================================
HARDWARE
-------------------------
wifi用来校准时间 （因为高热导致RTC不准确）方法是像192.168.1.74发udp包
rtc用来计算时间日期
Green LED 在纪念日晚上8点后提示
led driver 驱动大功率pwm led 实现渐强 渐弱和23点以后的深夜模式单独亮
Human IR 用来检测夜间/深夜模式下人体触发
light sensor 用来检测夜间/深夜模式下是否已经开启其他光源，如果已经开启则不开启本光源
reply 夜间模式在渐亮效果后点亮220v灯泡并且关闭本光源
level shift 用来实现从9v到5v的降压 （Ardunio UNO板子采用9v供电，led采用5v，故本方案采用9v供电，分路降压到5v）
led 数码管

MISC===
220v 10wled light
desiccant 干燥剂
light shift 灯碗
==================================================

规则
1.根据深圳冬季夏季日出日落实际时间定义白天还是夜间 （日出日落前1小时）
2.白天模式分为正常白天（不开启本系统）阴天模式（a时间在白天 b 环境亮度小于limit）
3.夜间模式分为，傍晚模式和深夜模式 
傍晚模式与深夜模式根据月亮起落时间划分

傍晚亮灯 1迅速渐变到最亮 2 开启220v led 3 关闭本体光源 。灭灯 渐灭（继续检测有人体感应消息，则持续220v常亮，直至检测不到人体后等待60s 关闭220v 渐灭本体）
深夜亮灯 1 缓慢渐变到80%亮度，保持这个亮度， 灭灯，同上 只是把220v换成本体光源

节日模式
在特定节日的晚上8点整到8点半有人进入，且其他灯具没有亮 不良任何灯， 闪30次高亮绿色led

4.校准时间模式
每晚小飞机敲铃铛*（另一个系统）后半个小时

5.LED数码管会显示时间在白天和夜间 led不亮的时候